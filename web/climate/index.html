<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>WireIt - ClimatePipes</title>
    <link rel="icon" href="examples/favicon.ico" type="image/png" />
    <link rel="SHORTCUT ICON" href="examples/favicon.ico" type="image/png" />

    <!-- YUI -->
    <link rel="stylesheet" type="text/css" href="wireit/lib/yui/reset-fonts-grids/reset-fonts-grids.css" />
    <link rel="stylesheet" type="text/css" href="wireit/lib/yui/assets/skins/sam/skin.css" />

    <!-- InputEx CSS -->
    <link type='text/css' rel='stylesheet' href='wireit/lib/inputex/css/inputEx.css' />

    <!-- YUI-accordion CSS -->
    <link rel="stylesheet" type="text/css" href="wireit/lib/accordionview/assets/skins/sam/accordionview.css" />

    <!-- WireIt CSS -->
    <link rel="stylesheet" type="text/css" href="wireit/css/WireIt.css" />
    <link rel="stylesheet" type="text/css" href="wireit/css/WireItEditor.css" />

    <style>
      #WiringEditor-runButton button {
        background: transparent url(wireit/images/icons/bullet_go.png) no-repeat scroll 10% 50%;
      }
      div.WireIt-Container {
	width: 350px; /* Prevent the modules from scratching on the right */
      }
      
      /*
      div.WireIt-Container.WiringEditor-module-Visualize,
      div.WireIt-Container.WiringEditor-module-ListData {
	width: 150px;
      }
      */

      div.WireIt-InputExTerminal {
	float: left;
	width: 21px;
	height: 21px;
	position: relative;
      }
      div.WireIt-InputExTerminal div.WireIt-Terminal {
	top: -3px;
	left: -7px;
      }
      div.inputEx-Group div.inputEx-label {
	width:100px;
      }

      div.WireIt-ImageContainer {
	width: auto;
      }

      div.Bubble div.body {
	width: 70px;
	height: 45px;
	opacity: 0.8;
	cursor: move;
      }

      .WiringEditor-module span {
	position: relative;
	top: -3px;
      }

    </style>


    <!-- YUI -->
    <script type="text/javascript" src="wireit/lib/yui/utilities/utilities.js"></script>
    <script type="text/javascript" src="wireit/lib/yui/resize/resize-min.js"></script>
    <script type="text/javascript" src="wireit/lib/yui/layout/layout-min.js"></script>
    <script type="text/javascript" src="wireit/lib/yui/container/container-min.js"></script>
    <script type="text/javascript" src="wireit/lib/yui/json/json-min.js"></script>
    <script type="text/javascript" src="wireit/lib/yui/button/button-min.js"></script>
    <script type="text/javascript" src="wireit/lib/yui/tabview/tabview-min.js"></script>

    <!-- InputEx with wirable options (WirableField-beta) -->
    <script src="wireit/lib/inputex/js/inputex.js"  type='text/javascript'></script>
    <script src="wireit/lib/inputex/js/Field.js"  type='text/javascript'></script>
    <script type="text/javascript" src="wireit/js/util/inputex/WirableField-beta.js"></script>
    <script src="wireit/lib/inputex/js/Group.js"  type='text/javascript'></script>
    <script src="wireit/lib/inputex/js/Visus.js"  type='text/javascript'></script>
    <script src="wireit/lib/inputex/js/fields/StringField.js"  type='text/javascript'></script>
    <script src="wireit/lib/inputex/js/fields/Textarea.js"  type='text/javascript'></script>
    <script src="wireit/lib/inputex/js/fields/SelectField.js"  type='text/javascript'></script>
    <script src="wireit/lib/inputex/js/fields/EmailField.js"  type='text/javascript'></script>
    <script src="wireit/lib/inputex/js/fields/UrlField.js"  type='text/javascript'></script>
    <script src="wireit/lib/inputex/js/fields/ListField.js"  type='text/javascript'></script>
    <script src="wireit/lib/inputex/js/fields/CheckBox.js"  type='text/javascript'></script>
    <script src="wireit/lib/inputex/js/fields/InPlaceEdit.js"  type='text/javascript'></script>
    <script src="wireit/lib/inputex/js/fields/PasswordField.js"  type='text/javascript'></script>
    <script src="wireit/lib/inputex/js/fields/DateField.js"  type='text/javascript'></script>
    <script src="wireit/lib/inputex/js/fields/IntegerField.js"  type='text/javascript'></script>
    <script src="wireit/lib/inputex/js/fields/HiddenField.js"  type='text/javascript'></script>

    <!-- YUI-Accordion -->
    <script src="wireit/lib/accordionview/accordionview-min.js"  type='text/javascript'></script>

    <!-- WireIt -->
    <!--[if IE]><script type="text/javascript" src="wireit/lib/excanvas.js"></script><![endif]-->
    <script type="text/javascript" src="wireit/js/WireIt.js"></script>
    <script type="text/javascript" src="wireit/js/CanvasElement.js"></script>
    <script type="text/javascript" src="wireit/js/Wire.js"></script>
    <script type="text/javascript" src="wireit/js/Terminal.js"></script>
    <script type="text/javascript" src="wireit/js/util/DD.js"></script>
    <script type="text/javascript" src="wireit/js/util/DDResize.js"></script>
    <script type="text/javascript" src="wireit/js/Container.js"></script>
    <script type="text/javascript" src="wireit/js/Layer.js"></script>
    <script type="text/javascript" src="wireit/js/util/inputex/FormContainer-beta.js"></script>
    <script type="text/javascript" src="wireit/js/LayerMap.js"></script>
    <script type="text/javascript" src="wireit/js/WiringEditor.js"></script>
    <script type="text/javascript" src="wireit/js/ImageContainer.js"></script>
    <script type="text/javascript" src="wireit/js/InOutContainer.js"></script>
    <script type="text/javascript" src="wireit/js/adapters/json-rpc.js"></script>

    <!-- CLIMATEPIPES MODULES -->
    <!--script type="text/javascript" src="modules/subworkflow_modules.js"></script-->
    <script type="text/javascript" src="modules/basic_modules.js"></script>
    <script type="text/javascript" src="modules/http_modules.js"></script>
    <script type="text/javascript" src="modules/esgf_modules.js"></script>
    <script type="text/javascript" src="modules/climatepipes_modules.js"></script>
    <script type="text/javascript" src="climatepipes.js"></script>


    <style>
      /* Comment Module */
      div.WireIt-Container.WiringEditor-module-comment { width: 200px; }
      div.WireIt-Container.WiringEditor-module-comment div.body { background-color: #EEEE66; }
      div.WireIt-Container.WiringEditor-module-comment div.body textarea { background-color: transparent; font-weight: bold; border: 0; }
    </style>


    <script>

      // InputEx needs a correct path to this image
      inputEx.spacerUrl = "/inputex/trunk/images/space.gif";

      YAHOO.util.Event.onDOMReady( climatePipes.init, climatePipes, true );

      /*
      YAHOO.util.Event.onDOMReady( function() {
        var editor = new WireIt.WiringEditor(climatePipes);

        // Open the infos panel
        editor.accordionView.openPanel(2);
      });
      */

    </script>

    <!-- ESRI/ArcGIS  -->
    <style type="text/css">
      /* @import "http://serverapi.arcgisonline.com/jsapi/arcgis/2.7/js/dojo/resources/dojo.css"; */
      @import "http://serverapi.arcgisonline.com/jsapi/arcgis/2.7/js/dojo/dijit/themes/tundra/tundra.css";
      INPUT.hintTextbox { color: #888; } INPUT.hintTextboxActive { color: #000; }
    </style>

    <script type="text/javascript" src="hint-textbox.js"></script>

    <script type="text/javascript">var djConfig = {parseOnLoad: true};</script>
    <script type="text/javascript" src="http://serverapi.arcgisonline.com/jsapi/arcgis/?v=2.7"></script>
    <script type="text/javascript">
      dojo.require("dijit.layout.BorderContainer");
      dojo.require("dijit.layout.ContentPane");
      dojo.require("dijit.form.DateTextBox");
      dojo.require("esri.map");
      var map;
      function init() {
        var initExtent = new esri.geometry.Extent({"xmin":-13618161,"ymin":5892040,
                                                   "xmax":-13450611,"ymax":5962515,
                                                   "spatialReference":{"wkid":102100}});
        map = new esri.Map("map",{extent:initExtent});

        // Add world imagery to the map. View the ArcGIS Online site for services
        // http://arcgisonline/home/search.html?t=content&f=typekeywords:service
        var basemap = new esri.layers.ArcGISTiledMapServiceLayer(
          "http://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer");
        map.addLayer(basemap);

        var referenceLayer = new esri.layers.ArcGISTiledMapServiceLayer(
          "http://server.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer");
        map.addLayer(referenceLayer);


        dojo.connect(map, 'onLoad', function(theMap) {
          //resize the map when the browser resizes
          dojo.connect(dijit.byId('map'), 'resize', map,map.resize);
        });
      }

      dojo.addOnLoad(init);
    </script>

    <script src="/PWService/js/ParaViewWeb.js" type="text/javascript"></script>


  </head>

  <body class="yui-skin-sam" onUnload="finalizeParaview()">
    <!--TOP-------------------------------------------------------------------->
    <div id="top">
      <div class="logo">ClimatePipes</div>
      <div id="toolbar"></div>
      <div class="topright">
        <span>Hello there !</span>
      </div>
    </div>

    <!--LEFT-------------------------------------------------------------------->
    <div id="left-all">
      <div id="left">
        <!-- Placeholder for modules -->
      </div>
      <div style='position: relative;'>
        <ul id="accordionView">
          <li>
            <h2>Minimap</h2>
            <div style='position: relative;'>
              <div id="layerMap"></div>
            </div>
          </li>
          <li>
            <h2>Infos</h2>
            <div>
              <div style="padding: 10px;">
                <p>This example shows how to use the <i>ImageContainer</i> and <i>FormContainer</i> in a language definition.</p>
                <br />
                <p><b>Drag and drop modules from the Module list</b> on the left to the working layer in the middle.</p>
                <br />
                <p><a href="climatepipes.js" target="_new">Click here to view the language definition for this editor.</a></p>
              </div>
            </div>
          </li>
        </ul>
     </div>
    </div>

    <!--RIGHT-------------------------------------------------------------------->
    <div id="right">
      <!-- Placeholder for results -->
    </div>
    
    <!--CENTER-------------------------------------------------------------------->
    <div id="center-all" style="height:100%">
      <p>Search using pipes</p>
      <div id="center" style="height:45%"></div>
      <div id="maps" style="height:55%; margin-left:auto; margin-right: auto">
        <p>Search using location</p>
        <div id="map" style="width:80%; height:65%; margin-left:auto; margin-right: auto; padding-left:10px; padding-right:10px; padding-top:10px; padding-bottom:10px"></div>
        <br>
        <form name="query" style="width:80%; margin-left:auto; margin-right: auto;">
          <input type="text" name="date1" id="date1" value="FROM (MM-DD-YY)" style="width:15%" class="hintTextbox" />
          <input type="text" name="date2" id="date2" value="TO (MM-DD-YY)" style="width:15%" class="hintTextbox" />
          <input type="text" name="bounds" id="bounds" value="REGION (UL-Lat:UL-Lon:LR-Lat:LR:Lon)"
           style="width:29.5%" class="hintTextbox" />
          <br><br>
          <input type="text" id="search_text_input" name="search_text" style="width:60%" class="hintTextbox" value="Query"/>
          <input type="submit" value="Submit" />
        </form>
      </div>
    </div>

    <!--HELP-------------------------------------------------------------------->
  </body>
</html>
